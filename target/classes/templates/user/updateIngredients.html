<!DOCTYPE html>
<html>
	<head>
		<title>Modifica ingredienti</title>
		<link rel="stylesheet" href="/css/stile.css" />
		<div th:replace="~{fragments :: Stylesheet}"></div>
	
	</head>

	<body>
	<!-- Navbar -->
	<div th:if="${role!=null && role=='ADMIN'}"><div th:replace="~{fragments :: NavbarAdmin}"></div></div>
	<div th:if="${role!=null && role=='DEFAULT'}"><div th:replace="~{fragments :: NavbarUser}"></div></div>
	<div th:if="${#authorization.expression('isAnonymous()')}"><div th:replace="~{fragments :: NavbarAnonymous}"></div></div>
		
		<div class="container mt-5">
			<h1 class="text-center text-uppercase fw-bolder pt-3">Modifica gli ingredienti della ricetta</h1>

			<div class="mt-4">
				<h3 class="mb-3">Ingredienti aggiunti</h3>
				<div th:if="${recipe.recipeIngredients.isEmpty()}" class="alert alert-warning">Ancora nessun ingrediente aggiunto</div>
				<ul class="list-group">
					<li class="list-group-item d-flex justify-content-between align-items-center" th:each="recipeIngredient : ${recipe.recipeIngredients}">
						<a th:text="${recipeIngredient.ingredient.name}" class="fw-bold text-decoration-none"></a>
						<a th:href="@{'/user/removeIngredientFromRecipe' + '/' + ${recipeIngredient.ingredient.id} + '/' + ${recipe.id}}" class="btn btn-danger btn-sm">Cancella</a>
					</li>
				</ul>
			</div>

			<div class="mt-5">
				<h3 class="mb-3">Ingredienti disponibili</h3>
				<div th:if="${ingredients.isEmpty()}" class="alert alert-info">Non ci sono ingredienti nel sistema</div>
				<ul class="list-group">
					<li class="list-group-item d-flex justify-content-between align-items-center" th:each="ingredient : ${ingredients}">
						<a th:text="${ingredient}" class="fw-bold text-decoration-none"></a>
						<a th:href="@{'/user/setIngredientToRecipe' + '/' + ${ingredient.id} + '/' + ${recipe.id}}" class="btn btn-success btn-sm">Aggiungi</a>
					</li>
				</ul>
			</div>
		</div>
		
		 <div th:replace="~{fragments :: Footer}"></div>

		<!-- Bootstrap Bundle with Popper -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
	</body>
</html>
